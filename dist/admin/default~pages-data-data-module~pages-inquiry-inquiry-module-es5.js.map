{"version":3,"sources":["src/app/shared/components/file-uploader/file-uploader.component.html","src/app/shared/components/image-uploader/image-uploader.component.html","src/app/shared/components/file-uploader/file-uploader.component.scss","src/app/shared/components/file-uploader/file-uploader.component.ts","src/app/shared/components/image-uploader/image-uploader.component.scss","src/app/shared/components/image-uploader/image-uploader.component.ts","src/app/shared/shared.module.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<div class=\\\"file-input\\\" fxFlex fxLayoutAlign=\\\"start end\\\">\\r\\n  <button class=\\\"button\\\"\\r\\n          (click)=\\\"onButtonClick()\\\"\\r\\n          mat-flat-button\\r\\n          color=\\\"primary\\\"\\r\\n          type=\\\"button\\\">파일 선택</button>\\r\\n\\r\\n\\r\\n  <input #fileInputRef\\r\\n         type=\\\"file\\\"\\r\\n         (change)=\\\"uploadFile($event.target.files[0])\\\">\\r\\n</div>\\r\\n\"","export default \"<div class=\\\"file-input\\\">\\r\\n  <div class=\\\"image-uploader-box\\\"\\r\\n       [ngStyle]=\\\"{ width: width + 'px', height: height + 'px' }\\\">\\r\\n    <img *ngIf=\\\"formCtrl.value\\\" [src]=\\\"formCtrl.value\\\" alt=\\\"image\\\">\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"button-box\\\">\\r\\n    <button class=\\\"button\\\"\\r\\n            (click)=\\\"onButtonClick()\\\"\\r\\n            mat-flat-button\\r\\n            color=\\\"primary\\\"\\r\\n            type=\\\"button\\\">이미지 선택</button>\\r\\n\\r\\n    <input matInput type=\\\"text\\\" *ngIf=\\\"formCtrl.value\\\" [value]=\\\"formCtrl.value || '이미지 없음'\\\" readonly>\\r\\n  </div>\\r\\n\\r\\n  <input #fileInputRef\\r\\n         class=\\\"input\\\"\\r\\n         type=\\\"file\\\"\\r\\n         accept=\\\"image/*\\\"\\r\\n         (change)=\\\"uploadFile($event.target.files[0])\\\">\\r\\n</div>\\r\\n\"","export default \".file-input {\\n  margin-top: 15px;\\n}\\n.file-input input {\\n  position: absolute;\\n  width: 1px;\\n  height: 1px;\\n  padding: 0;\\n  margin: -1px;\\n  overflow: hidden;\\n  clip: rect(0, 0, 0, 0);\\n  border: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Wb2x1bWVzL01hY2ludG9zaCBTU0QvRGV2IFByb2plY3QvVVNUU2l0ZS9wcm9qZWN0cy9hZG1pbi9zcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2ZpbGUtdXBsb2FkZXIvZmlsZS11cGxvYWRlci5jb21wb25lbnQuc2NzcyIsInByb2plY3RzL2FkbWluL3NyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvZmlsZS11cGxvYWRlci9maWxlLXVwbG9hZGVyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0UsZ0JBQUE7QUNERjtBREdFO0VBQ0Usa0JBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxzQkFBQTtFQUNBLFNBQUE7QUNESiIsImZpbGUiOiJwcm9qZWN0cy9hZG1pbi9zcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2ZpbGUtdXBsb2FkZXIvZmlsZS11cGxvYWRlci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgXCJjb3JlXCI7XHJcblxyXG4uZmlsZS1pbnB1dCB7XHJcbiAgbWFyZ2luLXRvcDogMTVweDtcclxuXHJcbiAgaW5wdXQge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgd2lkdGg6IDFweDtcclxuICAgIGhlaWdodDogMXB4O1xyXG4gICAgcGFkZGluZzogMDtcclxuICAgIG1hcmdpbjogLTFweDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICBjbGlwOnJlY3QoMCwwLDAsMCk7XHJcbiAgICBib3JkZXI6IDA7XHJcbiAgfVxyXG59XHJcbiIsIi5maWxlLWlucHV0IHtcbiAgbWFyZ2luLXRvcDogMTVweDtcbn1cbi5maWxlLWlucHV0IGlucHV0IHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB3aWR0aDogMXB4O1xuICBoZWlnaHQ6IDFweDtcbiAgcGFkZGluZzogMDtcbiAgbWFyZ2luOiAtMXB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBjbGlwOiByZWN0KDAsIDAsIDAsIDApO1xuICBib3JkZXI6IDA7XG59Il19 */\"","import { Component, ViewChild, ElementRef, forwardRef } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport {\r\n  DnlFireUploader,\r\n  DnlGroupValueAccessor,\r\n  HashMap,\r\n  AbstractControlType, DNL_GROUP_VALUE_ACCESSOR\r\n} from '@dminine/ng-lib';\r\nimport { DnlFormGroup } from '@dminine/ng-lib/lib/form/form-group';\r\n\r\n@Component({\r\n  selector: 'ust-file-uploader',\r\n  templateUrl: './file-uploader.component.html',\r\n  styleUrls: ['./file-uploader.component.scss'],\r\n  providers: [\r\n    {\r\n      provide: DNL_GROUP_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => FileUploaderComponent),\r\n    }\r\n  ]\r\n})\r\nexport class FileUploaderComponent implements DnlGroupValueAccessor {\r\n  @ViewChild('fileInputRef', { static: true }) fileInputRef: ElementRef;\r\n\r\n  formGroup: DnlFormGroup = this.createForm() as DnlFormGroup;\r\n  controlTypeMap: HashMap<AbstractControlType> = {\r\n    title: 'formControl',\r\n    url: 'formControl',\r\n  };\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private uploader: DnlFireUploader,\r\n  ) { }\r\n\r\n  onButtonClick() {\r\n    this.fileInputRef.nativeElement.click();\r\n  }\r\n\r\n  uploadFile(file: File) {\r\n    if (file) {\r\n      const uploadTask = this.uploader.upload(file, 'board-file');\r\n      uploadTask.getDownloadURL().subscribe(url => {\r\n        this.formGroup.setValue({\r\n          title: file.name,\r\n          url\r\n        });\r\n\r\n        this.fileInputRef.nativeElement.value = '';\r\n      });\r\n    }\r\n  }\r\n\r\n  private createForm(): FormGroup {\r\n    return this.fb.group({\r\n      title: [null, Validators.required],\r\n      url: [null, Validators.required]\r\n    });\r\n  }\r\n}\r\n","export default \".file-input {\\n  margin-top: 15px;\\n}\\n.file-input .image-uploader-box {\\n  position: relative;\\n  background-color: #ddd;\\n  cursor: pointer;\\n  margin-bottom: 12px;\\n}\\n.file-input img {\\n  width: 100%;\\n  height: 100%;\\n}\\n.file-input .button-box {\\n  display: flex;\\n}\\n.file-input .button-box button {\\n  margin-right: 12px;\\n}\\n.file-input .button-box input {\\n  font-size: 15px;\\n  text-overflow: ellipsis;\\n  max-width: 500px;\\n}\\n.file-input .input {\\n  position: absolute;\\n  width: 1px;\\n  height: 1px;\\n  padding: 0;\\n  margin: -1px;\\n  overflow: hidden;\\n  clip: rect(0, 0, 0, 0);\\n  border: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Wb2x1bWVzL01hY2ludG9zaCBTU0QvRGV2IFByb2plY3QvVVNUU2l0ZS9wcm9qZWN0cy9hZG1pbi9zcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2ltYWdlLXVwbG9hZGVyL2ltYWdlLXVwbG9hZGVyLmNvbXBvbmVudC5zY3NzIiwicHJvamVjdHMvYWRtaW4vc3JjL2FwcC9zaGFyZWQvY29tcG9uZW50cy9pbWFnZS11cGxvYWRlci9pbWFnZS11cGxvYWRlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLGdCQUFBO0FDREY7QURHRTtFQUNFLGtCQUFBO0VBQ0Esc0JBQUE7RUFDQSxlQUFBO0VBQ0EsbUJBQUE7QUNESjtBRElFO0VBQ0UsV0FBQTtFQUNBLFlBQUE7QUNGSjtBREtFO0VBQ0UsYUFBQTtBQ0hKO0FES0k7RUFDRSxrQkFBQTtBQ0hOO0FETUk7RUFDRSxlQUFBO0VBQ0EsdUJBQUE7RUFDQSxnQkFBQTtBQ0pOO0FEUUU7RUFDRSxrQkFBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLHNCQUFBO0VBQ0EsU0FBQTtBQ05KIiwiZmlsZSI6InByb2plY3RzL2FkbWluL3NyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvaW1hZ2UtdXBsb2FkZXIvaW1hZ2UtdXBsb2FkZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IFwiY29yZVwiO1xyXG5cclxuLmZpbGUtaW5wdXQge1xyXG4gIG1hcmdpbi10b3A6IDE1cHg7XHJcblxyXG4gIC5pbWFnZS11cGxvYWRlci1ib3gge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2RkZDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIG1hcmdpbi1ib3R0b206IDEycHg7XHJcbiAgfVxyXG5cclxuICBpbWcge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgfVxyXG5cclxuICAuYnV0dG9uLWJveCB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG5cclxuICAgIGJ1dHRvbiB7XHJcbiAgICAgIG1hcmdpbi1yaWdodDogMTJweDtcclxuICAgIH1cclxuXHJcbiAgICBpbnB1dCB7XHJcbiAgICAgIGZvbnQtc2l6ZTogMTVweDtcclxuICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XHJcbiAgICAgIG1heC13aWR0aDogNTAwcHg7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAuaW5wdXQge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgd2lkdGg6IDFweDtcclxuICAgIGhlaWdodDogMXB4O1xyXG4gICAgcGFkZGluZzogMDtcclxuICAgIG1hcmdpbjogLTFweDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICBjbGlwOnJlY3QoMCwwLDAsMCk7XHJcbiAgICBib3JkZXI6IDA7XHJcbiAgfVxyXG59XHJcbiIsIi5maWxlLWlucHV0IHtcbiAgbWFyZ2luLXRvcDogMTVweDtcbn1cbi5maWxlLWlucHV0IC5pbWFnZS11cGxvYWRlci1ib3gge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGJhY2tncm91bmQtY29sb3I6ICNkZGQ7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgbWFyZ2luLWJvdHRvbTogMTJweDtcbn1cbi5maWxlLWlucHV0IGltZyB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59XG4uZmlsZS1pbnB1dCAuYnV0dG9uLWJveCB7XG4gIGRpc3BsYXk6IGZsZXg7XG59XG4uZmlsZS1pbnB1dCAuYnV0dG9uLWJveCBidXR0b24ge1xuICBtYXJnaW4tcmlnaHQ6IDEycHg7XG59XG4uZmlsZS1pbnB1dCAuYnV0dG9uLWJveCBpbnB1dCB7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIG1heC13aWR0aDogNTAwcHg7XG59XG4uZmlsZS1pbnB1dCAuaW5wdXQge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHdpZHRoOiAxcHg7XG4gIGhlaWdodDogMXB4O1xuICBwYWRkaW5nOiAwO1xuICBtYXJnaW46IC0xcHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGNsaXA6IHJlY3QoMCwgMCwgMCwgMCk7XG4gIGJvcmRlcjogMDtcbn0iXX0= */\"","import { Component, ViewChild, ElementRef, forwardRef, Input } from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport {\r\n  DnlFireUploader,\r\n  FormControlBaseComponent\r\n} from '@dminine/ng-lib';\r\n\r\n@Component({\r\n  selector: 'ust-image-uploader',\r\n  templateUrl: './image-uploader.component.html',\r\n  styleUrls: ['./image-uploader.component.scss'],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => ImageUploaderComponent),\r\n      multi: true\r\n    }\r\n  ]\r\n})\r\nexport class ImageUploaderComponent extends FormControlBaseComponent {\r\n  @Input() width = 100;\r\n  @Input() height = 100;\r\n\r\n  @ViewChild('fileInputRef', { static: true }) fileInputRef: ElementRef;\r\n\r\n  constructor(\r\n    private uploader: DnlFireUploader,\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  onButtonClick() {\r\n    this.fileInputRef.nativeElement.click();\r\n  }\r\n\r\n  uploadFile(file: File) {\r\n    if (file) {\r\n      const uploadTask = this.uploader.upload(file, 'board-image');\r\n      uploadTask.getDownloadURL().subscribe(url => {\r\n        this.formCtrl.setValue(url);\r\n        this.fileInputRef.nativeElement.value = '';\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FlexModule } from '@angular/flex-layout';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MaterialModule } from '../../../../ust/src/lib/modules/material/material.module';\r\nimport { FileUploaderComponent } from './components/file-uploader/file-uploader.component';\r\nimport { ImageUploaderComponent } from './components/image-uploader/image-uploader.component';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    FileUploaderComponent,\r\n    ImageUploaderComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    MaterialModule,\r\n    FlexModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  exports: [\r\n    FileUploaderComponent,\r\n    ImageUploaderComponent\r\n  ]\r\n})\r\nexport class SharedModule { }\r\n"],"sourceRoot":"webpack:///"}