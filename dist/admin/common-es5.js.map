{"version":3,"sources":["src/app/modules/admin-board-base/components/admin-board-add-base.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAOsB,0B;;;AAQpB,0CACY,MADZ,EAEY,aAFZ,EAGY,QAHZ,EAG8B;AAAA;;AAFlB,aAAA,MAAA,GAAA,MAAA;AACA,aAAA,aAAA,GAAA,aAAA;AACA,aAAA,QAAA,GAAA,QAAA;AARZ,aAAA,OAAA,GAAU,IAAV;AACA,aAAA,SAAA,GAAY,KAAZ;AAEA,aAAA,SAAA,GAAY,cAAZ;AAMK;;;;8BAEF;AAAA;;AACD,cAAI,KAAK,OAAT,EAAkB;AAChB,mBAAO,KAAK,QAAL,CAAc,OAAd,CAAsB,gBAAtB,CAAP;AACD;;AAED,eAAK,SAAL,GAAiB,IAAjB;AAEA,eAAK,aAAL,CAAmB,GAAnB,CAAuB,KAAK,SAA5B,EAAuC,IAAvC,CAA4C,MAAA,CAAA,2CAAA,CAAA,MAAA,CAAA,CAAA,CAAK,CAAL,CAA5C,EAAqD,IAArD,CACE,MAAA,CAAA,2CAAA,CAAA,UAAA,CAAA,CAAA,CAAS;AAAA,mBAAM,KAAI,CAAC,SAAL,GAAiB,KAAvB;AAAA,WAAT,CADF,EAEE,SAFF,CAEY,UAAA,MAAM,EAAG;AACnB,YAAA,KAAI,CAAC,QAAL,CAAc,OAAd,CAAsB,UAAtB;;AACA,YAAA,KAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,CAAC,KAAI,CAAC,SAAN,CAArB;AACD,WALD;AAMD","sourcesContent":["import { Router } from '@angular/router';\r\nimport { DnlFirestoreEntity, SubscriptionBaseComponent, DnlFirestoreService, DnlQuery } from '@dminine/ng-lib';\r\nimport { Subscription } from 'rxjs';\r\nimport { take, finalize } from 'rxjs/operators';\r\nimport { Notifier } from '../../../core/services/notifier.service';\r\n\r\n\r\nexport abstract class AdminBoardAddBaseComponent<S, E extends DnlFirestoreEntity> {\r\n  formValue: Partial<E>;\r\n\r\n  invalid = true;\r\n  isLoading = false;\r\n\r\n  boardPath = '/data/notice';\r\n\r\n  protected constructor(\r\n    protected router: Router,\r\n    protected entityService: DnlFirestoreService<S, E>,\r\n    protected notifier: Notifier\r\n  ) { }\r\n\r\n  add() {\r\n    if (this.invalid) {\r\n      return this.notifier.warning('모든 정보를 입력해 주세요');\r\n    }\r\n\r\n    this.isLoading = true;\r\n\r\n    this.entityService.add(this.formValue).pipe(take(1)).pipe(\r\n      finalize(() => this.isLoading = false)\r\n    ).subscribe(entity => {\r\n      this.notifier.success('추가하였습니다!');\r\n      this.router.navigate([this.boardPath]);\r\n    });\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}